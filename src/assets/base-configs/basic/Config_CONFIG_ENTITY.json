{
  "_id": "Config:CONFIG_ENTITY",
  "data": {
    "appConfig:usage-analytics": {
      "url": "https://matomo.aam-digital.org",
      "site_id": "8"
    },
    "navigationMenu": {
      "items": [
        {
          "label": "Dashboard",
          "icon": "home",
          "link": "/"
        },
        {
          "entityType": "Child"
        },
        {
          "entityType": "School"
        },
        {
          "label": "Attendance",
          "icon": "calendar-check",
          "link": "/attendance"
        },
        {
          "entityType": "Note"
        },
        {
          "entityType": "User"
        },
        {
          "label": "Reports",
          "icon": "line-chart",
          "link": "/report"
        },
        {
          "label": "Admin",
          "icon": "wrench",
          "link": "/admin"
        }
      ]
    },
    "view:": {
      "component": "Dashboard",
      "config": {
        "widgets": [
          {
            "component": "EntityCountDashboard",
            "config": {
              "groupBy": [
                "gender"
              ]
            }
          },
          {
            "component": "ImportantNotesDashboard",
            "config": {
              "warningLevels": [
                "WARNING",
                "URGENT"
              ]
            }
          },
          {
            "component": "AttendanceWeekDashboard",
            "config": {
              "daysOffset": 0,
              "periodLabel": "last week"
            }
          },
          {
            "component": "ProgressDashboard",
            "config": {
              "dashboardConfigId": "1"
            }
          }
        ]
      }
    },
    "view:note": {
      "component": "NotesManager",
      "config": {
        "entityType": "Note",
        "title": "Notes & Reports",
        "includeEventNotes": false,
        "showEventNotesToggle": true,
        "columnGroups": {
          "default": "Standard",
          "mobile": "Mobile",
          "groups": [
            {
              "name": "Standard",
              "columns": [
                "date",
                "subject",
                "category",
                "authors",
                "children"
              ]
            },
            {
              "name": "Mobile",
              "columns": [
                "date",
                "subject",
                "children"
              ]
            }
          ]
        },
        "filters": [
          {
            "id": "warningLevel"
          },
          {
            "id": "date",
            "default": 1
          },
          {
            "id": "category"
          },
          {
            "id": "authors"
          }
        ],
        "exportConfig": [
          {
            "label": "event_id",
            "query": "_id"
          },
          {
            "label": "date",
            "query": "date"
          },
          {
            "label": "event title",
            "query": "subject"
          },
          {
            "label": "event type",
            "query": "category"
          },
          {
            "label": "event description",
            "query": "text"
          },
          {
            "query": ":getAttendanceArray(true)",
            "subQueries": [
              {
                "query": ".participant:toEntities(Child)",
                "subQueries": [
                  {
                    "label": "participant_id",
                    "query": "_id"
                  },
                  {
                    "label": "participant",
                    "query": "name"
                  },
                  {
                    "label": "gender",
                    "query": "gender"
                  },
                  {
                    "label": "religion",
                    "query": "religion"
                  }
                ]
              },
              {
                "label": "status",
                "query": ".status._status.id"
              },
              {
                "query": ".school:toEntities(School)",
                "subQueries": [
                  {
                    "label": "school_name",
                    "query": "name"
                  },
                  {
                    "label": "school_id",
                    "query": "entityId"
                  }
                ]
              }
            ]
          }
        ]
      }
    },
    "entity:User": {
      "label": "User",
      "labelPlural": "Users",
      "icon": "user",
      "enableUserAccounts": true,
      "attributes": {
        "name": {
          "dataType": "string",
          "label": "Name"
        }
      }
    },
    "view:user": {
      "component": "EntityList",
      "config": {
        "entityType": "User",
        "columns": [
          "name"
        ]
      },
      "permittedUserRoles": [
        "admin_app"
      ]
    },
    "view:user/:id": {
      "component": "EntityDetails",
      "config": {
        "entityType": "User",
        "panels": [
          {
            "title": "User Information",
            "components": [
              {
                "title": "",
                "component": "Form",
                "config": {
                  "fieldGroups": [
                    {
                      "fields": [
                        "name"
                      ]
                    }
                  ]
                }
              }
            ]
          }
        ]
      }
    },
    "view:attendance": {
      "component": "AttendanceManager"
    },
    "view:attendance/add-day": {
      "component": "AddDayAttendance"
    },
    "entity:School": {
      "toStringAttributes": [
        "name"
      ],
      "icon": "university",
      "label": "School",
      "labelPlural": "Schools",
      "color": "#9E9D24",
      "attributes": {
        "name": {
          "dataType": "string",
          "label": "Name",
          "validators": {
            "required": true
          },
          "id": "name"
        },
        "privateSchool": {
          "dataType": "boolean",
          "label": "Private School",
          "id": "privateSchool"
        },
        "language": {
          "dataType": "string",
          "label": "Language",
          "id": "language"
        },
        "address": {
          "dataType": "location",
          "label": "Address",
          "id": "address"
        },
        "phone": {
          "dataType": "string",
          "label": "Phone Number",
          "id": "phone"
        },
        "timing": {
          "dataType": "string",
          "label": "School Timing",
          "id": "timing"
        },
        "remarks": {
          "dataType": "string",
          "label": "Remarks",
          "id": "remarks"
        },
        "website": {
          "dataType": "url",
          "label": "Website",
          "id": "website"
        },
        "_id": {
          "anonymize": "retain",
          "dataType": "string",
          "id": "_id"
        },
        "_rev": {
          "anonymize": "retain",
          "dataType": "string",
          "id": "_rev"
        },
        "created": {
          "anonymize": "retain",
          "dataType": "update-metadata",
          "id": "created"
        },
        "updated": {
          "anonymize": "retain",
          "dataType": "update-metadata",
          "id": "updated"
        },
        "inactive": {
          "anonymize": "retain",
          "dataType": "boolean",
          "id": "inactive"
        },
        "anonymized": {
          "anonymize": "retain",
          "dataType": "boolean",
          "id": "anonymized"
        },
        "enumDropdown": {
          "id": "enumDropdown",
          "label": "enum dropdown",
          "dataType": "configurable-enum",
          "additional": "center"
        },
        "enumMulti": {
          "id": "enumMulti",
          "label": "enum multi",
          "dataType": "configurable-enum",
          "isArray": true,
          "additional": "center"
        },
        "numberField": {
          "id": "numberField",
          "label": "Number Field",
          "dataType": "number"
        },
        "longTextField": {
          "id": "longTextField",
          "label": "Long Text Field",
          "dataType": "long-text"
        },
        "dateOnlyField": {
          "id": "dateOnlyField",
          "label": "Date Only Field",
          "dataType": "date-only"
        },
        "dateWithAgeField": {
          "id": "dateWithAgeField",
          "label": "Date with Age Field",
          "dataType": "date-with-age"
        },
        "monthField": {
          "id": "monthField",
          "label": "Month Field",
          "dataType": "month"
        },
        "dateField": {
          "id": "dateField",
          "label": "Date Field",
          "dataType": "date"
        },
        "entityField": {
          "id": "entityField",
          "label": "Entity Field",
          "dataType": "entity",
          "additional": "Child"
        },
        "percentageField": {
          "id": "percentageField",
          "label": "Percentage Field",
          "dataType": "percentage"
        },
        "emailField": {
          "id": "emailField",
          "label": "Email Field",
          "dataType": "email"
        },
        "fileField": {
          "id": "fileField",
          "label": "File Field",
          "dataType": "file"
        },
        "photoField": {
          "id": "photoField",
          "label": "Photo Field",
          "dataType": "photo"
        },
        "timeIntervalField": {
          "id": "timeIntervalField",
          "label": "Time Interval Field",
          "dataType": "time-interval"
        },
        "eventAttendanceField": {
          "id": "eventAttendanceField",
          "label": "Event Attendance Field",
          "dataType": "event-attendance"
        },
        "eventAttendanceMapField": {
          "id": "eventAttendanceMapField",
          "label": "Event Attendance Map Field",
          "dataType": "event-attendance-map"
        },
        "templateExportFileField": {
          "id": "templateExportFileField",
          "label": "Template Export File Field",
          "dataType": "template-export-file"
        }
      },
      "hasPII": false,
      "_id": "entity:School"
    },
    "view:school": {
      "component": "EntityList",
      "config": {
        "entityType": "School",
        "columns": [
          "name",
          {
            "id": "DisplayParticipantsCount",
            "viewComponent": "DisplayParticipantsCount",
            "label": "Participants"
          }
        ],
        "filters": [
          {
            "id": "privateSchool",
            "label": "Private School"
          }
        ]
      }
    },
    "view:school/:id": {
      "component": "EntityDetails",
      "config": {
        "entityType": "School",
        "panels": [
          {
            "title": "Basic Information",
            "components": [
              {
                "title": "",
                "component": "Form",
                "config": {
                  "fieldGroups": [
                    {
                      "fields": [
                        "name",
                        "privateSchool"
                      ]
                    },
                    {
                      "fields": [
                        "address",
                        "phone",
                        "website"
                      ]
                    },
                    {
                      "fields": [
                        "language",
                        "timing"
                      ]
                    },
                    {
                      "fields": [
                        "remarks",
                        "enumDropdown",
                        "enumMulti",
                        "numberField",
                        "longTextField",
                        "dateOnlyField",
                        "dateWithAgeField",
                        "monthField",
                        "dateField",
                        "entityField",
                        "percentageField",
                        "emailField",
                        "fileField",
                        "photoField",
                        "timeIntervalField",
                        "eventAttendanceField",
                        "eventAttendanceMapField",
                        "templateExportFileField"
                      ]
                    }
                  ]
                }
              }
            ]
          },
          {
            "title": "Students",
            "components": [
              {
                "component": "RelatedEntities",
                "config": {
                  "entityType": "ChildSchoolRelation",
                  "columns": [
                    {
                      "id": "childId"
                    },
                    {
                      "id": "start",
                      "visibleFrom": "md"
                    },
                    {
                      "id": "end",
                      "visibleFrom": "md"
                    },
                    {
                      "id": "schoolClass"
                    },
                    {
                      "id": "result"
                    }
                  ],
                  "loaderMethod": "ChildrenServiceQueryRelations"
                }
              }
            ]
          },
          {
            "title": "Activities",
            "components": [
              {
                "component": "RelatedEntities",
                "config": {
                  "entityType": "RecurringActivity",
                  "columns": [
                    {
                      "id": "title",
                      "editComponent": "EditTextWithAutocomplete",
                      "additional": {
                        "entityType": "RecurringActivity",
                        "relevantProperty": "linkedGroups"
                      }
                    },
                    {
                      "id": "assignedTo"
                    },
                    {
                      "id": "linkedGroups"
                    },
                    {
                      "id": "excludedParticipants"
                    }
                  ]
                }
              }
            ]
          }
        ]
      },
      "_id": "view:school/:id"
    },
    "entity:Child": {
      "label": "Participant",
      "labelPlural": "Participants",
      "icon": "person",
      "toStringAttributes": [
        "name"
      ],
      "attributes": {
        "name": {
          "dataType": "string",
          "label": "Name",
          "validators": {
            "required": true
          }
        },
        "gender": {
          "dataType": "configurable-enum",
          "additional": "genders",
          "label": "Gender"
        }
      }
    },
    "view:child": {
      "component": "ChildrenList",
      "config": {
        "entityType": "Child",
        "columns": [
          {
            "viewComponent": "ChildBlock",
            "label": "Name",
            "id": "name"
          },
          {
            "viewComponent": "DisplayEntityArray",
            "label": "School",
            "id": "schoolId",
            "additional": "School",
            "noSorting": true
          }
        ],
        "columnGroups": {
          "default": "Basic Info",
          "mobile": "Basic Info",
          "groups": [
            {
              "name": "Basic Info",
              "columns": [
                "name"
              ]
            }
          ]
        },
        "filters": [
          {
            "id": "gender"
          }
        ]
      }
    },
    "view:child/:id": {
      "component": "EntityDetails",
      "config": {
        "entityType": "Child",
        "panels": [
          {
            "title": "Basic Information",
            "components": [
              {
                "title": "",
                "component": "Form",
                "config": {
                  "fieldGroups": [
                    {
                      "fields": [
                        "name"
                      ],
                      "header": "Personal Information"
                    },
                    {
                      "fields": [
                        "gender"
                      ],
                      "header": "Additional"
                    }
                  ]
                }
              }
            ]
          },
          {
            "title": "Groups",
            "components": [
              {
                "title": "",
                "component": "ChildSchoolOverview",
                "config": {
                  "single": true,
                  "columns": [
                    {
                      "id": "start",
                      "visibleFrom": "sm"
                    },
                    {
                      "id": "end",
                      "visibleFrom": "sm"
                    },
                    "schoolId"
                  ]
                }
              }
            ]
          },
          {
            "title": "Attendance",
            "components": [
              {
                "title": "",
                "component": "GroupedChildAttendance"
              }
            ]
          },
          {
            "title": "Notes & Tasks",
            "components": [
              {
                "title": "",
                "component": "NotesRelatedToEntity"
              },
              {
                "title": "Tasks",
                "component": "TodosRelatedToEntity"
              }
            ]
          }
        ]
      }
    },
    "view:report": {
      "component": "Reporting"
    },
    "entity:Todo": {
      "label": "Task",
      "labelPlural": "Tasks",
      "attributes": {}
    }
  }
}
