@if (compact) {
  <span class="color-picker-wrapper">
    <button
      mat-icon-button
      type="button"
      [style.color]="color"
      (click)="colorInput.click()"
      tabindex="-1"
      matTooltip="Pick color"
    >
      <fa-icon icon="palette"></fa-icon>
    </button>
    <input
      #colorInput
      type="color"
      class="color-input-overlay"
      [value]="color"
      (input)="onColorChange($event.target.value)"
      (click)="$event.stopPropagation()"
    />
  </span>
} @else {
  <mat-form-field class="full-width" floatLabel="always">
    <mat-label>
      <span i18n>Color</span>
      &nbsp;
      <fa-icon
        icon="question-circle"
        matTooltip="Pick a color or enter a color code (e.g. #ff0000)."
        i18n-matTooltip
      ></fa-icon>
    </mat-label>
    <div class="color-input-row">
      <span class="color-picker-wrapper">
        <button
          mat-icon-button
          type="button"
          [style.color]="color"
          (click)="colorInput2.click()"
          tabindex="-1"
          [matTooltip]="'Pick color'"
        >
          <fa-icon icon="palette"></fa-icon>
        </button>
        <input
          #colorInput2
          type="color"
          class="color-input-overlay"
          [value]="color"
          (input)="onColorChange($event.target.value)"
          (click)="$event.stopPropagation()"
        />
      </span>
      @if (!hideTextField) {
        <input
          matInput
          [formControl]="colorControl"
          (input)="onColorChange(colorControl.value)"
          style="width: 100px; margin-left: 8px"
          placeholder="#RRGGBB"
        />
      }
    </div>
  </mat-form-field>
}
