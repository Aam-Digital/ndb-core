<div class="padding-regular">
  @if (targetEntityType?.ENTITY_TYPE) {
    <span i18n>Entity Type:</span> {{ targetEntityType?.ENTITY_TYPE }}

    <div class="margin-top-regular hint-text">
      <p i18n>
        You can select which fields should be shown or hidden in this panel.
      </p>
    </div>

    <div class="margin-bottom-regular">
      <app-reorderable-list
        [items]="activeFields"
        [orientation]="'horizontal'"
        [itemTemplate]="fieldTemplate"
        (itemsChange)="updateFields($event)"
      ></app-reorderable-list>

      <ng-template #fieldTemplate let-field let-remove="remove">
        <div class="drop-item column-preview flex-row gap-small">
          <fa-icon icon="grip-vertical" class="drag-handle"></fa-icon>
          <app-entity-field-label
            [field]="field"
            [entityType]="targetEntityType"
          ></app-entity-field-label>
          <fa-icon icon="times" (click)="remove(field)"></fa-icon>
        </div>
      </ng-template>
    </div>
    <span i18n>Columns shown:</span>

    <app-entity-fields-menu
      [entityType]="targetEntityType"
      [(activeFields)]="activeFields"
      [availableFields]="allFields"
      (activeFieldsChange)="updateFields($event)"
    ></app-entity-fields-menu>
  } @else {
    <p>[ {{ config.component }} ]</p>

    <p class="hint-text" i18n>
      Editing advanced sub-sections is not supported yet in this preview.
    </p>
  }
</div>
