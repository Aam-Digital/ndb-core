<!-- we need to add this button on parent as we are loading every item -->

<!-- @if (showAddNew) {
  <div class="top-action-bar">
    <div class="right-button">
      <button mat-stroked-button color="accent" (click)="addNewMenuItem()">
        <fa-icon
          aria-label="add"
          icon="plus-circle"
          class="standard-icon-with-text"
        ></fa-icon>
        <span i18n>Add New</span>
      </button>
    </div>
  </div>
} -->
<mat-nav-list class="drop-list flex-column gap-regular limit-width">
  <ng-container *ngIf="item">
    <div
      class="flex-row menu-item-container drop-item"
      cdkDrag
      [cdkDragData]="item"
      cdkDropList
      [id]="item.uniqueId"
      [cdkDropListData]="item.subMenu"
      [cdkDropListConnectedTo]="connectedTo"
      (cdkDropListDropped)="onDragDrop($event)"
    >
      <div class="flex-row" cdkDragHandle>
        <fa-icon icon="grip-vertical" class="drag-handle"></fa-icon>
        <app-menu-item [item]="item" [adminMode]="true"></app-menu-item>
        <button
          mat-icon-button
          color="accent"
          (click)="editMenuItem(item)"
          aria-label="Edit menu item"
        >
          <mat-icon class="edit-icon">edit</mat-icon>
        </button>
        <fa-icon
          icon="times"
          class="remove-icon"
          aria-label="Remove menu item"
        ></fa-icon>
      </div>

      <div class="submenu" *ngIf="item.subMenu && item.subMenu.length > 0">
        <app-admin-menu-list
          *ngFor="let childItem of item.subMenu"
          [item]="childItem"
          [connectedTo]="connectedTo"
          (itemDrop)="onDragDrop($event)"
        >
        </app-admin-menu-list>
      </div>
    </div>
  </ng-container>
</mat-nav-list>
