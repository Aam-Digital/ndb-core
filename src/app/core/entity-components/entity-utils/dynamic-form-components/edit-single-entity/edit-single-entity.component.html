<mat-form-field floatLabel="always" [formGroup]="formControl.parent">
  <mat-label *ngIf="label"
             [matTooltip]="tooltip"
             [matTooltipDisabled]="!tooltip"
  >
    {{ label }}
  </mat-label>
  <input
    #inputField
    matInput
    [fxHide]="!formControl.enabled"
    [placeholder]="placeholder"
    [formControl]="entityNameFormControl"
    [matAutocomplete]="autoSuggestions"
  />
  <mat-autocomplete
    #autoSuggestions="matAutocomplete"
    (optionSelected)="select($event)"
  >
    <!-- Optional header -->
    <ng-container *ngIf="showEntities">
      <ng-content select="mat-option"></ng-content>
      <mat-option *ngFor="let entity of filteredEntities | async" [value]="entity.toString()" (click)="formControl.setValue(entity.getId())">
        <app-display-entity
          [entityToDisplay]="entity"
          [linkDisabled]="true"
        ></app-display-entity>
      </mat-option>
    </ng-container>
  </mat-autocomplete>
</mat-form-field>
