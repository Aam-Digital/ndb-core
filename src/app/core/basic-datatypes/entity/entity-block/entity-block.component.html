<span
  class="block-height truncate-text"
  [ngClass]="{
    clickable: !linkDisabled,
    '.inactive': !entity?.isActive,
  }"
  (click)="showDetailsPage()"
  [appTemplateTooltip]="tooltip"
  [tooltipDisabled]="!entityBlockConfig"
>
  @if (entityIcon) {
    <app-fa-dynamic-icon
      [icon]="entityIcon"
      class="margin-right-small"
    ></app-fa-dynamic-icon>
  }

  {{ entity?.toString() }}
</span>

<!-- Tooltip on Hover -->
<ng-template #tooltip>
  <div class="tooltip-container">
    @if (entityBlockConfig?.image) {
      <app-display-img
        class="tooltip-photo"
        [entity]="entity"
        [imgProperty]="entityBlockConfig?.image"
      ></app-display-img>
    }

    <div>
      <!-- Font-weight is applied as style to override the default -->
      <h3 style="font-weight: bold">
        <app-entity-field-view
          [entity]="entity"
          [field]="entityBlockConfig?.title"
        ></app-entity-field-view>
      </h3>

      @for (field of entityBlockConfig?.fields; track field) {
        <app-entity-field-view
          [entity]="entity"
          [field]="field"
        ></app-entity-field-view>
      }
    </div>
  </div>
</ng-template>
