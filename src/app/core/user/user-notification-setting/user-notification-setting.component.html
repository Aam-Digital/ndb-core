<div class="notifications-container">
  <h1 class="notification-setting-title">
    <strong i18n>Notifications settings</strong>
  </h1>
  <p i18n>
    Aam Digital may still send you important notifications about your account
    and content outside of your preferred notification settings.
  </p>

  <div class="notification-types-container">
    <div class="flex-row justify-space-between align-center">
      <h3 class="no-margin" i18n>
        <strong>What notifications you receive</strong>
      </h3>
      <button
        mat-stroked-button
        color="accent"
        (click)="addNewRule()"
        matTooltip="Add new notification rule"
        i18n-matTooltip
      >
        <fa-icon aria-label="add element" icon="plus-circle"></fa-icon>
        <span i18n class="new-notification-rule"
          >Add new notification rule</span
        >
      </button>
    </div>

    <div class="flex-row gap-small save-buttons justify-end">
      <button
        mat-raised-button
        color="accent"
        (click)="updateNotificationRule()"
        i18n
      >
        Save
      </button>
      <button mat-stroked-button (click)="cancelNotificationRule()" i18n>
        Cancel
      </button>
    </div>

    <ng-container *ngFor="let notification of notificationRule; let i = index">
      <div
        class="flex-row justify-space-between align-center notifications-types-container"
      >
        <app-entity-type-select
          [allowMultiSelect]="false"
          label="Select an entity type"
        ></app-entity-type-select>

        <mat-form-field>
          <mat-label i18n>Notification condition</mat-label>
          <input
            matInput
            [(ngModel)]="notification.inputValue"
            placeholder="TO BE IMPLEMENTED LATER"
            disabled="true"
            i18n-placeholder="Notification condition placeholder"
          />
        </mat-form-field>

        <mat-slide-toggle
          [(ngModel)]="notification.toggleValue"
          class="notification-toggle"
        ></mat-slide-toggle>

        <button
          *ngIf="notificationRule.length > 1"
          mat-icon-button
          (click)="removeRule(i)"
          matTooltip="Remove notification rule"
          i18n-matTooltip
        >
          <fa-icon icon="trash"></fa-icon>
        </button>
      </div>
    </ng-container>
  </div>

  <div class="browser-notifications-container">
    <h3 i18n><strong>Where you receive notifications</strong></h3>
    <div class="receive-notifications-container">
      <div class="flex-row">
        <fa-icon icon="window-maximize"></fa-icon>
        <p class="notification-toggle">Browser</p>
      </div>
      <div class="flex-row justify-space-between browser-notification-list">
        <span i18n>Push notifications</span>
        <mat-slide-toggle (change)="onEnableNotification()" />
      </div>
    </div>
  </div>
</div>
