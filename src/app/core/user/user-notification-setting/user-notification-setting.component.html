<div class="notifications-container">
  <h1 class="notification-setting-title">
    <strong i18n>Notifications settings</strong>
  </h1>
  <p i18n>
    Aam Digital may still send you important notifications about your account
    and content outside of your preferred notification settings.
  </p>

  <div class="notification-types-container">
    <div class="flex-row justify-space-between align-center">
      <h3 class="no-margin" i18n>
        <strong>What notifications you receive</strong>
      </h3>
    </div>

    <ng-container *ngFor="let notification of notificationRule; let i = index">
      <div
        class="flex-column justify-space-between align-center notifications-options-container"
      >
        <div
          class="flex-column justify-space-between align-center notification-options-wrapper"
        >
          <div class="flex-row justify-content-center align-center notification-item">
            <app-entity-type-select
              [allowMultiSelect]="false"
              label="Select an entity type"
            ></app-entity-type-select>
            <app-help-button
              text="Select an entity type to receive notifications for."
              i18n-text
            ></app-help-button>
          </div>

          <div class="flex-row justify-content-center align-center full-width">
            <mat-form-field class="notification-item">
              <mat-label i18n>Notification condition</mat-label>
              <input
                matInput
                [(ngModel)]="notification.inputValue"
                placeholder="TO BE IMPLEMENTED LATER"
                disabled="true"
                i18n-placeholder="Notification condition placeholder"
              />
            </mat-form-field>
            <app-help-button
              text="Define a condition to receive notifications for."
              i18n-text
            ></app-help-button>
          </div>

          <div class="flex-row justify-content-center align-center notification-item">
            <app-notification-center-select
              [selectedOption]="['Push']"
              [options]="notificationOptions"
              [disabled]="true"
              label="Notification Center"
            ></app-notification-center-select>
            <app-help-button
              text="Define a notification center to receive notifications"
              i18n-text
            ></app-help-button>
          </div>
        </div>

        <div class="flex-row notification-rule-actions">
          <div class="flex-row align-center">
            <mat-slide-toggle
              [(ngModel)]="notification.toggleValue"
              class="notification-toggle"
              matTooltip="Enable or disable notification rule"
              i18n-matTooltip
            ></mat-slide-toggle>
          </div>

          <button
            *ngIf="notificationRule.length > 1"
            mat-icon-button
            (click)="confirmRemoveNotificationRule(i)"
            matTooltip="Remove notification rule"
            i18n-matTooltip
          >
            <fa-icon icon="trash"></fa-icon>
          </button>

          <button
            mat-icon-button
            (click)="testNotification()"
            matTooltip="Test notification"
            i18n-matTooltip
          >
            <fa-icon icon="paper-plane"></fa-icon>
          </button>
        </div>
      </div>
    </ng-container>
    <div class="add-new-notification-rule">
      <button
        mat-stroked-button
        class="add-new-rule-button"
        color="accent"
        (click)="addNewRule()"
        matTooltip="Add new notification rule"
        i18n-matTooltip
      >
        <fa-icon aria-label="add element" icon="plus-circle"></fa-icon>
        <span i18n class="new-notification-rule"
          >Add new notification rule</span
        >
      </button>
    </div>
  </div>

  <div class="browser-notifications-container">
    <h3 i18n><strong>Where you receive notifications</strong></h3>
    <div class="receive-notifications-container">
      <div class="flex-row">
        <fa-icon icon="window-maximize"></fa-icon>
        <p class="notification-toggle" i18n>Browser</p>
      </div>
      <div
        class="flex-row align-center justify-space-between browser-notification-list"
      >
        <div class="flex-row align-center">
          <span i18n>Push notifications</span>
          <app-help-button
            text="Enable or disable browser push notifications."
            i18n-text
          ></app-help-button>
        </div>
        <mat-slide-toggle (change)="onEnableNotification()" />
      </div>

      <div class="flex-row">
        <fa-icon icon="envelope"></fa-icon>
        <p class="notification-toggle" i18n>Email</p>
      </div>
      <div
        class="flex-row align-center justify-space-between browser-notification-list"
      >
        <div class="flex-row align-center">
          <span i18n>Email notifications</span>
          <span class="coming-soon-label" i18n>Coming Soon</span>
        </div>
        <mat-slide-toggle disabled></mat-slide-toggle>
      </div>
    </div>
  </div>
</div>
