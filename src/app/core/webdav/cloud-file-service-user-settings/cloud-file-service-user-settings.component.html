<form [formGroup]="form" (ngSubmit)="updateCloudServiceSettings()" class="width-1-3">
  <p>
    <em i18n
      >Please enter your username and password for your Nextcloud account. This
      will be used for photo uploads.</em
    >
  </p>
  <p>
    <mat-form-field class="full-width">
      <input
        matInput
        required
        formControlName="cloudUser"
        i18n-placeholder="Cloud username placeholder"
        placeholder="Cloud Image Service User"
        class="full-width"
      />
    </mat-form-field>
    <br />
    <mat-form-field class="full-width">
      <input
        matInput
        type="password"
        required
        formControlName="cloudPassword"
        i18n-placeholder="Cloud password placeholder"
        placeholder="Cloud Image Service Password"
        class="full-width"
      />
      <mat-error
        *ngIf="form.controls.cloudPassword.errors?.connectionFailed"
        i18n
      >
        Couldn't connect to the cloud service. Please check your username and
        password or try again later.
      </mat-error>
    </mat-form-field>
    <br />
  </p>
  <p>
    <em i18n
      >Please enter your password for this app, so your cloud service password
      above will then be encrypted and stored for future uses.</em
    >
  </p>
  <p>
    <mat-form-field class="full-width">
      <input
        class="full-width"
        matInput
        type="password"
        required
        formControlName="userPassword"
        i18n-placeholder="Generic password placeholder"
        placeholder="Password"
      />
      <mat-error
        *ngIf="form.controls.userPassword.errors?.incorrectPassword"
        i18n
      >
        The password you entered is not correct. Please enter your user account
        password for this app here (not your password for the cloud service
        above).
      </mat-error>
    </mat-form-field>
  </p>
  <p class="flex-row align-center">
    <button
      mat-raised-button
      type="submit"
      [disabled]="!form.valid || processing"
      i18n="Generic save button"
    >
      Save
    </button>
    &nbsp;<mat-spinner diameter="20" *ngIf="processing"></mat-spinner>
  </p>
</form>
