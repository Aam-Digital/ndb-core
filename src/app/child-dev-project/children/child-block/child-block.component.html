<span
  *ngIf="entity"
  (mouseenter)="showTooltip()"
  (mouseleave)="hideTooltip()"
  (click)="showDetailsPage()"
  [ngClass]="{ inactive: !entity.isActive }"
  class="truncate-text container"
>
  <img [src]="entity.photo?.photo?.value" class="child-pic" alt=""/>
  <span class="font-size-rel">{{ entity?.name }}</span>
  <span class="subnote" *ngIf="entity?.projectNumber"> ({{ entity?.projectNumber }})</span>
</span>

<div style="position: absolute" *ngIf="tooltipVisible">
  <div
    class="mat-elevation-z3 child-tooltip"
    (mouseenter)="showTooltip()"
    (mouseleave)="hideTooltip()"
    fxLayout="row"
    fxLayoutGap="8px"
  >
    <div fxFlex>
      <img [src]="entity?.photo?.photo?.value" class="child-pic-large" alt=""/>
    </div>
    <div fxFlex="grow">
      <h3>{{ entity?.name }}</h3>
      <p><fa-icon icon="phone"></fa-icon> {{ entity?.phone }}</p>
      <ng-container *ngIf="entity?.schoolId || entity?.schoolClass">
        <p>
          <app-school-block
            [entityId]="entity?.schoolId"
            [linkDisabled]="true"
          ></app-school-block
          >,
          <ng-container i18n="The class a child is attending|e.g. 'class 8'" *ngIf="entity.schoolClass">
            class {{ entity?.schoolClass }}
          </ng-container>
        </p>
      </ng-container>
    </div>
  </div>
</div>
