<div>
  <app-entity-select
    [entityType]="User"
    [(selection)]="assignedUsers"
    [disabled]="!editing"
    [view]="userBlock"
    label="Assigned to"
    placeholder="Add coordinator ..."
  >
  </app-entity-select>
  <app-entity-select
    [entityType]="School"
    [(selection)]="participatingGroups"
    [disabled]="!editing"
    [view]="schoolBlock"
    label="Groups"
    placeholder="Add group ..."
  >
  </app-entity-select>
  <app-entity-select
    [(selection)]="participants"
    [disabled]="!editing"
    [entityType]="Child"
    [view]="childBlock"
    label="Participants"
    placeholder="Add participant ..."
  ></app-entity-select>
</div>

<div>
  <button
    i18n="Generic save button"
    *ngIf="editing"
    mat-stroked-button
    class="edit-button"
    (click)="save()"
  >
    Save
  </button>

  <button
    i18n="Generic cancel button"
    *ngIf="editing"
    mat-stroked-button
    class="edit-button"
    (click)="switchEdit()"
  >
    Cancel
  </button>

  <button
    i18n="Generic edit button"
    *ngIf="!editing"
    mat-stroked-button
    class="edit-button"
    (click)="switchEdit()"
  >
    Edit
  </button>
</div>

<ng-template
  let-entity="entity"
  #childBlock
>
  <app-child-block
    [entity]="entity"
    [linkDisabled]="true"
    [tooltipDisabled]="true">
  </app-child-block>
</ng-template>

<ng-template
  let-entity="entity"
  #schoolBlock>
  <app-school-block
  [entity]="entity"
  [linkDisabled]="true">
  </app-school-block>
</ng-template>

<ng-template
  #userBlock
  let-user="entity"
>{{user.name}}</ng-template>
