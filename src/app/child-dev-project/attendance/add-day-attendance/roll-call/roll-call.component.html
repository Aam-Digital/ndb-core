<!-- Individual Student's Page -->
<div *ngIf="entries?.length > 0">
  <div class="attendance-progress-bar">
    <mat-progress-bar
      class="filler"
      mode="determinate"
      [value]="(currentIndex / entries.length) * 100"
    ></mat-progress-bar>
    <div class="progress-label" [style.visibility]="currentIndex < entries.length ? 'visible' : 'hidden'">
      {{ currentIndex+1 }} / {{ entries.length }}
    </div>

    <div class="navigation-bar">
      <button mat-icon-button (click)="goToPrevious()" [disabled]="isFirst">
        <fa-icon icon="chevron-left"></fa-icon>
      </button>
      <div *ngIf="isFinished" style="flex-grow: 1"></div>
      <app-child-block
        *ngIf="!isFinished"
        [entity]="currentChild"
        class="child-block">
      </app-child-block>
      <button mat-icon-button (click)="goToNext()" [disabled]="isFinished">
        <fa-icon icon="chevron-right"></fa-icon>
      </button>
    </div>

  </div>

  <div
    *ngIf="!isFinished"
    fxLayout="column"
    fxLayoutAlign="space-between stretch"
    class="options-wrapper"
  >
    <div
      class="group-select-option"
      *ngFor="let option of availableStatus"
      (click)="markAttendance(option)"
      [ngClass]="
        currentStatus.id === option.id
          ? option.style
          : ''
      "
    >
      <fa-icon
        *ngIf="currentStatus.id === option.id"
        icon="check"
      ></fa-icon>
      {{ option.label }}
    </div>
  </div>
</div>

<!-- Completion Page -->
<div *ngIf="isFinished" class="roll-call-complete" [@completeRollCall] (click)="finish()">
  <fa-icon icon="check-circle" class="roll-call-complete-icon"></fa-icon>
  <div
    i18n="
      Attendance completed|shows when the user has registered the attendance of
      all children
    "
  >
    Attendance completed.
  </div>

  <button
    (click)="finish()"
    class="completed-button"
    mat-stroked-button
    i18n="Back to overview button after finishing a roll call"
  >
    Back to Overview
  </button>
</div>
