<app-dashboard-widget
  icon="exclamation-triangle"
  theme="attendance"
  [title]="rowGroupCount"
  subtitle="Students more than one day absent {{ periodLabel }}"
  i18n-subtitle="Dashboard attendance component subtitle"
>
  <app-widget-content>
    <table
      mat-table
      [dataSource]="tableDataSource"
      class="attendance-week-table"
    >
      <ng-container matColumnDef="child">
        <td
          *matCellDef="let rowGroup"
          (click)="goToChild(rowGroup[0].childId)"
          style="cursor: pointer; padding-left: 5px"
          class="dashboard-table-row"
        >
          <app-child-block [entityId]="rowGroup[0].childId"></app-child-block>
        </td>
      </ng-container>

      <ng-container matColumnDef="attendance">
        <td *matCellDef="let rowGroup" class="dashboard-table-row">
          <div *ngFor="let activityRecord of rowGroup" class="activities-record">
            <div *ngFor="let day of activityRecord.attendanceDays">
              <app-attendance-day-block [attendance]="day">
              </app-attendance-day-block>
            </div>
          </div>
        </td>
      </ng-container>

      <tr mat-row *matRowDef="let row; columns: ['child', 'attendance'];" class="w-WARNING"></tr>
    </table>
    <mat-paginator
      #paginator
      [pageSizeOptions]="[5]"
      [hidePageSize]="true"
    >
    </mat-paginator>
  </app-widget-content>
</app-dashboard-widget>
