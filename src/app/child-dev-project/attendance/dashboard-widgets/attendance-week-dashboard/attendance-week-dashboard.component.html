<mat-card class="dashboard-widget">
  <mat-card-header class="app-attendance">
    <div mat-card-avatar>
      <mat-icon fontIcon="fa-exclamation-triangle"></mat-icon>
    </div>
    <mat-card-title>{{ attendanceRecords?.length }}</mat-card-title>
    <mat-card-subtitle
      >Students more than one day absent
      <em>{{ periodLabel }}</em></mat-card-subtitle
    >
  </mat-card-header>
  <mat-card-content>
    <table class="dashboard-table">
      <tr
        *ngFor="
          let record of attendanceRecords;
          trackBy: recordTrackByFunction;
          let i = index
        "
        class="dashboard-table-row w-WARNING"
        (click)="goToChild(record.child.getId())"
        style="cursor: pointer"
        angulartics2On="click"
        angularticsCategory="Navigation"
        angularticsAction="dashboard_attendance_warnings_list_link"
        [angularticsLabel]="'list-entry-' + i"
      >
        <td class="dashboard-table-first-cell dashboard-table-cell">
          <app-child-block [entity]="record.child"></app-child-block>
        </td>
        <td class="dashboard-table-last-cell dashboard-table-cell">
          <table class="attendance-week-table">
            <tr>
              <td *ngFor="let day of record.attendanceSchool">
                <app-attendance-day-block
                  [entity]="day"
                  [showDate]="false"
                  class="day-box"
                ></app-attendance-day-block>
              </td>
            </tr>
            <tr>
              <td *ngFor="let day of record.attendanceCoaching">
                <app-attendance-day-block
                  [entity]="day"
                  [showDate]="false"
                  class="day-box"
                ></app-attendance-day-block>
              </td>
            </tr>
          </table>
        </td>
      </tr>
    </table>
  </mat-card-content>
</mat-card>
