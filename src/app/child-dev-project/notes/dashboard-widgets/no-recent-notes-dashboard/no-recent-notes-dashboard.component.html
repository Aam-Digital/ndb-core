<mat-card class="dashboard-widget">
  <mat-card-header class="app-note">
    <div mat-card-avatar>
      <mat-icon fontIcon="fa-file-text-o"></mat-icon>
    </div>
    <mat-card-title style='position: relative'>
      <span *ngIf='isLoading'>
        <mat-spinner [diameter]='40' class='loading-indicator'></mat-spinner>
        &nbsp;
      </span>
      <span *ngIf='!isLoading'>
        {{ concernedChildren?.length }}
      </span>
    </mat-card-title>
    <mat-card-subtitle
      [matTooltip]="'includes children without a note ' +
       (fromBeginningOfWeek ? 'since beginning of week ' : '') +
       (sinceDays > 0 ? 'within the last ' + sinceDays + ' days' : '')"
    >
      Children
      <span class='subtitle-highlight'>without</span>
      recent report
    </mat-card-subtitle>
  </mat-card-header>
  <mat-card-content>
    <div class="mat-elevation-z8 table-list">
      <table mat-table [dataSource]="childrenWithNoteInfoDataSource" matSort width='100%'>
        <ng-container matColumnDef="name">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Name</th>
          <td mat-cell *matCellDef="let child">
            <app-child-block [entity]="child"></app-child-block>
          </td>
        </ng-container>
        <ng-container matColumnDef="daysSinceLastNote">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Days passed</th>
          <td mat-cell *matCellDef="let child" class='dashboard-table-additional-info-cell'>
            {{child.daysSinceLastNote | number:'1.0-0'}} days
          </td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="columnsToDisplay" style="display: none;"></tr>
        <tr mat-row *matRowDef="let child; columns: columnsToDisplay" [routerLink]="['/child', child.getId()]"
            class="dashboard-table-row w-WARNING" style="cursor:pointer;"></tr>
      </table>
      <mat-paginator [pageSize]="4" [hidePageSize]="true" [showFirstLastButtons]="true"></mat-paginator>
    </div>
  </mat-card-content>
</mat-card>
