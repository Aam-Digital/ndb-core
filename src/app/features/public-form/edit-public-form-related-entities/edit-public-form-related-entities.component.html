<div class="flex-row align-center gap-small">
  <mat-select
    [value]="selectedFieldIds"
    (selectionChange)="onSelectionChange($event.value)"
    [disabled]="formControl.disabled"
    multiple
    class="flex-grow"
  >
    @for (field of relatedRefFields; track field.id) {
      <mat-option [value]="field.id">
        {{ field.label || field.additional }}
      </mat-option>
    } @empty {
      <mat-option disabled>
        This record type does not have any fields that link to another record.
      </mat-option>
    }
  </mat-select>

  <button
    mat-icon-button
    [disabled]="formControl.disabled"
    (click)="clearSelectedEntities()"
    matTooltip="Clear selected entities"
    i18n-matTooltip
  >
    <fa-icon icon="times"></fa-icon>
  </button>
</div>
