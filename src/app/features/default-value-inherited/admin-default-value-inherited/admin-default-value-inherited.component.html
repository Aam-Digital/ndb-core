<div [formGroup]="form" class="flex-row gap-small">
  @if (availableInheritanceAttributes?.length > 0) {
    <mat-select formControlName="localAttribute" #localAttributeSelect>
      <div
        class="select-dropdown-header"
        matTooltip="The field of this record that defines the related record from which you want to inherit a value."
        i18n-matTooltip
        i18n
      >
        Inherit from linked record:
      </div>
      @for (attr of availableInheritanceAttributes; track attr) {
        <mat-option [value]="attr">
          <app-entity-field-label
            [field]="attr"
            [entityType]="entityType"
          ></app-entity-field-label>
        </mat-option>
      }
    </mat-select>

    <mat-select formControlName="field" #fieldSelect>
      <div
        class="select-dropdown-header"
        matTooltip="The field of the linked record from which the value is copied into this field."
        i18n-matTooltip
        i18n
      >
        Inherited field of linked record:
      </div>
      @for (field of currentInheritanceFields?.availableFields; track field) {
        <mat-option [value]="field">
          <app-entity-field-label
            [field]="field"
            [entityType]="currentInheritanceFields?.referencedEntityType"
          ></app-entity-field-label>
        </mat-option>
      }
    </mat-select>
  } @else {
    <!-- Not available in this Entity -->
    <em
      matTooltip="This requires another field in this record type to be a link to a record"
      i18n-matTooltip
      i18n
      >Not available</em
    >
  }
</div>
