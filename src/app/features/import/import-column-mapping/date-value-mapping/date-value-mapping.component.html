<mat-dialog-content>
  <mat-form-field>
    <mat-label i18n>Date format</mat-label>
    <input [formControl]="format" matInput />
    <mat-hint i18n>
      e.g. YYYY-MM-DD
      <a
        href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date#date_time_string_format"
        target="_blank"
        >(help)</a
      >
    </mat-hint>
    <mat-error *ngIf="format.errors" i18n>
      Format cannot parse all dates
    </mat-error>
  </mat-form-field>

  <app-help-button
    text="Define how date values in your imported data are formatted, so that the system correctly understands them. Values that do not match the given format will be ignored (remain empty) during import."
    i18n-text="import - value mapping (date) - help text"
  ></app-help-button>

  <mat-list>
    <mat-list-item
      *ngFor="let val of values"
      [ngClass]="{ invalid: !val.parsed }"
    >
      {{ val.value }} -> {{ val.parsed | date }}
    </mat-list-item>
  </mat-list>
</mat-dialog-content>

<mat-dialog-actions>
  <button mat-raised-button color="accent" (click)="save()" i18n>
    Save & Close
  </button>
  <button mat-stroked-button matDialogClose i18n>Cancel</button>
</mat-dialog-actions>
