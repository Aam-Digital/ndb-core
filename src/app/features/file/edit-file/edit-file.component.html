<input
  type="file"
  [accept]="acceptedFileTypes"
  style="display: none"
  (change)="onFileSelected($event.target['files'][0])"
  #fileUpload
/>

<div
  class="flex-row gap-regular"
  [class.clickable]="formControl.value"
  (click)="navigator.onLine ? formClicked() : null"
>
  <input
    matInput
    readonly
    class="filename"
    [formControl]="formControl"
    i18n-placeholder="placeholder for file-input"
    placeholder="No file selected"
    i18n-matTooltip="Tooltip show file"
    matTooltip="Show file"
    [matTooltipDisabled]="!(initialValue && formControl.value === initialValue)"
  />

  @if (formControl.value && formControl.enabled) {
    <button
      type="button"
      mat-icon-button
      (click)="delete(); $event.stopPropagation()"
      i18n-mattooltip="Tooltip remove file"
      matTooltip="Remove file"
      [disabled]="!navigator.onLine"
      class="input-action-button"
    >
      <fa-icon icon="xmark"></fa-icon>
    </button>
  }
  @if (formControl.enabled) {
    <button
      type="button"
      mat-icon-button
      (click)="fileUpload.click(); $event.stopPropagation()"
      i18n-matTooltip="Tooltip upload file button"
      matTooltip="Upload file"
      [disabled]="!navigator.onLine"
      class="input-action-button"
    >
      <fa-icon icon="upload"></fa-icon>
    </button>
  }
</div>

@if (!navigator.onLine && formControl.enabled) {
  <div
    style="font-size: 0.75em; color: rgba(0, 0, 0, 0.6); margin-top: 4px"
    i18n
  >
    Changes to files are not possible offline.
  </div>
}
