<h1 *ngIf="!entity.isNew" mat-dialog-title>{{ entity.subject }}</h1>
<h1 *ngIf="entity.isNew" mat-dialog-title i18n="Todo details heading for new record">Creating new item</h1>
<app-dialog-close mat-dialog-close=""></app-dialog-close>

<mat-dialog-content>
  <app-entity-form
    [entity]="entity"
    [columns]="formColumns"
    [form]="form"
  ></app-entity-form>
</mat-dialog-content>

<mat-dialog-actions class="gap-regular">
  <app-todo-completion
    [entity]="entity"
    (complete)="completeTodo()"
    (uncomplete)="uncompleteTodo()"
    *ngIf="!entity.isNew"
  ></app-todo-completion>
  <!-- TODO: move these form actions into a reusable component (taking the entity + form as input)? -->
  <button mat-raised-button (click)="save()" i18n="Save button for forms">
    Save
  </button>

  <button mat-raised-button i18n="Cancel button for forms" mat-dialog-close="">
    Cancel
  </button>

  <button
    *ngIf="!entity.isNew"
    mat-icon-button
    [matMenuTriggerFor]="additional"
    style="margin-top: -8px"
  >
    <fa-icon icon="ellipsis-v" class="standard-icon"></fa-icon>
  </button>
  <mat-menu #additional>
    <button
      mat-menu-item
      (click)="delete()"
      *appDisabledEntityOperation="{
            operation: 'delete',
            entity: entity
          }"
      angulartics2On="click"
      [angularticsCategory]="entity.getType()"
      angularticsAction="entity_delete"
    >
      <fa-icon
        class="standard-icon-with-text color-accent"
        aria-label="remove element"
        icon="trash"
      ></fa-icon>
      <span i18n="Generic delete button"> Delete </span>
    </button>
  </mat-menu>
</mat-dialog-actions>
